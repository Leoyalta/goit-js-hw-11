{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["export function getDataFromAPI(BASE_URL, API_KEY, inputValue) {\n    const fullUrl = constructUrl(BASE_URL, API_KEY, inputValue);\n    return fetch(fullUrl)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      })\n      .catch(error => {\n        console.log('ERROR:', error);\n        return Promise.reject(error);\n      });\n  }\n  \n  function constructUrl(BASE_URL, API_KEY, inputValue) {\n    const searchParams = new URLSearchParams({\n      key: API_KEY,\n      q: inputValue,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',\n    });\n    return `${BASE_URL}?${searchParams}`;\n  }\n\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n  export function renderGalleryImg(parentEl, data) {\n    parentEl.innerHTML = generateGalleryMarkup(data);\n    lightbox.refresh();\n  }\n\n  function generateGalleryMarkup(data) {\n    return data\n      .map(\n        ({\n          webformatURL,\n          largeImageURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) =>\n          ` <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <figure class=\"gallery-figure\">\n            <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"400\" />\n            <figcaption class=\"gallery-figcaption\">\n              <ul class=\"gallery-text\">\n                <li>\n                  <span>Likes</span>\n                  <p>${likes}</p>\n                </li>\n                <li>\n                  <span>Views</span>\n                  <p>${views}</p>\n                </li>\n                <li>\n                  <span>Comments</span>\n                  <p>${comments}</p>\n                </li>\n                <li>\n                  <span>Downloads</span>\n                  <p>${downloads}</p>\n                </li>\n              </ul>\n            </figcaption>\n          </figure>\n        </a>\n      </li>`\n      )\n      .join(' ');\n  }\n\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { getDataFromAPI } from './js/pixabay-api';\nimport { renderGalleryImg } from './js/render-function'\n\nconst API_KEY = '44022963-dc7d5638f3e5caf2e9b20745b';\nconst BASE_URL= 'https://pixabay.com/api/';\n\nconst searchForm = document.querySelector('.search-form');\nconst galleryEl = document.querySelector('.gallery');\nconst loaderWrapper = document.querySelector('.loader-wrapper ');\n\nsearchForm.addEventListener('submit', handleFormSubmit);\n\nfunction handleFormSubmit(event) {\n  event.preventDefault();\n  galleryEl.innerHTML = '';\n  loaderWrapper.classList.remove('is-hidden');\n\n  const inputSearchValue = event.currentTarget.search.value.trim();\n\n  if (!inputSearchValue) {\n    displayErrorMessage('Sorry, there are no images matching your search query. Please try again!');\n    event.currentTarget.reset();\n    loaderWrapper.classList.add('is-hidden');\n    return;\n  }\n\n  getDataFromAPI(BASE_URL, API_KEY, inputSearchValue)\n    .then(data => {\n      const formData = data.hits;\n      if (formData.length === 0) {\n        displayErrorMessage(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n\n        loaderWrapper.classList.add('is-hidden');\n        return;\n      }\n\n      renderGalleryImg(galleryEl, formData);\n      loaderWrapper.classList.add('is-hidden');\n    })\n    .catch(error => {\n      errorMessage(\n        'Sorry, there are no images matching your search query. Please try again!'\n      );\n      console.error('Error fetching data:', error);\n    });\n\n  event.currentTarget.reset();\n}\n\nconst iziToastConfig = {\n  position: 'topRight',\n  titleColor: '#FFF',\n  titleSize: '16',\n  titleLineHeight: '24',\n  messageColor: '#FFF',\n  messageSize: '16',\n  messageLineHeight: '24',\n};\n\nfunction errorMessage(message, title) {\n  iziToast.error({\n    ...iziToastConfig,\n    title: title || '',\n    message: `${message}`,\n    backgroundColor: '#EF4040',\n  });\n}"],"names":["getDataFromAPI","BASE_URL","API_KEY","inputValue","fullUrl","constructUrl","response","error","searchParams","renderGalleryImg","parentEl","data","generateGalleryMarkup","lightbox","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","searchForm","galleryEl","loaderWrapper","handleFormSubmit","event","inputSearchValue","formData","errorMessage","iziToastConfig","message","title","iziToast"],"mappings":"6vBAAO,SAASA,EAAeC,EAAUC,EAASC,EAAY,CAC1D,MAAMC,EAAUC,EAAaJ,EAAUC,EAASC,CAAU,EAC1D,OAAO,MAAMC,CAAO,EACjB,KAAKE,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACxB,CAAO,EACA,MAAMC,IACL,QAAQ,IAAI,SAAUA,CAAK,EACpB,QAAQ,OAAOA,CAAK,EAC5B,CACJ,CAED,SAASF,EAAaJ,EAAUC,EAASC,EAAY,CACnD,MAAMK,EAAe,IAAI,gBAAgB,CACvC,IAAKN,EACL,EAAGC,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAClB,CAAK,EACD,MAAO,GAAGF,CAAQ,IAAIO,CAAY,EACtC,CCrBS,SAASC,EAAiBC,EAAUC,EAAM,CAC/CD,EAAS,UAAYE,EAAsBD,CAAI,EAC/CE,EAAS,QAAO,CACjB,CAED,SAASD,EAAsBD,EAAM,CACnC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,wCAC8BL,CAAa;AAAA;AAAA,8CAEPD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,uBAKjDC,CAAK;AAAA;AAAA;AAAA;AAAA,uBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,uBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,uBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAOzB,EACA,KAAK,GAAG,CACZ,CAED,MAAMP,EAAW,IAAIQ,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAClB,CAAG,ECjDGnB,EAAU,qCACVD,EAAU,2BAEVqB,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAgB,SAAS,cAAc,kBAAkB,EAE/DF,EAAW,iBAAiB,SAAUG,CAAgB,EAEtD,SAASA,EAAiBC,EAAO,CAC/BA,EAAM,eAAc,EACpBH,EAAU,UAAY,GACtBC,EAAc,UAAU,OAAO,WAAW,EAE1C,MAAMG,EAAmBD,EAAM,cAAc,OAAO,MAAM,OAE1D,GAAI,CAACC,EAAkB,CACrB,oBAAoB,0EAA0E,EAC9FD,EAAM,cAAc,QACpBF,EAAc,UAAU,IAAI,WAAW,EACvC,MACD,CAEDxB,EAAeC,EAAUC,EAASyB,CAAgB,EAC/C,KAAKhB,GAAQ,CACZ,MAAMiB,EAAWjB,EAAK,KACtB,GAAIiB,EAAS,SAAW,EAAG,CACzB,oBACE,0EACV,EAEQJ,EAAc,UAAU,IAAI,WAAW,EACvC,MACD,CAEDf,EAAiBc,EAAWK,CAAQ,EACpCJ,EAAc,UAAU,IAAI,WAAW,CAC7C,CAAK,EACA,MAAMjB,GAAS,CACdsB,EACE,0EACR,EACM,QAAQ,MAAM,uBAAwBtB,CAAK,CACjD,CAAK,EAEHmB,EAAM,cAAc,OACtB,CAEA,MAAMI,EAAiB,CACrB,SAAU,WACV,WAAY,OACZ,UAAW,KACX,gBAAiB,KACjB,aAAc,OACd,YAAa,KACb,kBAAmB,IACrB,EAEA,SAASD,EAAaE,EAASC,EAAO,CACpCC,EAAS,MAAM,CACb,GAAGH,EACH,MAAOE,GAAS,GAChB,QAAS,GAAGD,CAAO,GACnB,gBAAiB,SACrB,CAAG,CACH"}